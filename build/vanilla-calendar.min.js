/*! name: @uvarov.frontend/vanilla-calendar | url: https://github.com/uvarov-frontend/vanilla-calendar */
if(typeof window!=='undefined'){!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var l=t();for(var s in l)("object"==typeof exports?exports:e)[s]=l[s]}}(self,(()=>(()=>{"use strict";var e={d:(t,l)=>{for(var s in l)e.o(l,s)&&!e.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:l[s]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{default:()=>w});const l=e=>{if(!["default","year"].includes(e.currentType))return;const t=e.HTMLElement.querySelector(`.${e.styleClass.arrowPrev}`),l=e.HTMLElement.querySelector(`.${e.styleClass.arrowNext}`);if(t instanceof HTMLElement&&l instanceof HTMLElement){const s=()=>{e.dateMin&&e.dateMax&&"year"===e.currentType&&void 0!==e.viewYear&&(e.dateMin.getUTCFullYear()&&e.viewYear-7<=e.dateMin.getUTCFullYear()?t.style.visibility="hidden":t.style.visibility="",e.dateMax.getUTCFullYear()&&e.viewYear+7>=e.dateMax.getUTCFullYear()?l.style.visibility="hidden":l.style.visibility="")};(()=>{if(!e.dateMin||!e.dateMax||"default"!==e.currentType)return;const s=e.selectedMonth===e.dateMin.getUTCMonth(),n=e.selectedMonth===e.dateMax.getUTCMonth(),a=!e.settings.selection.year||e.selectedYear===e.dateMin.getUTCFullYear(),i=!e.settings.selection.year||e.selectedYear===e.dateMax.getUTCFullYear();s&&a||!e.settings.selection.month?t.style.visibility="hidden":t.style.visibility="",n&&i||!e.settings.selection.month?l.style.visibility="hidden":l.style.visibility=""})(),s()}},s=(e,t)=>{if(e.popups)for(const l in e.popups)if(Object.hasOwnProperty.call(e.popups,l)){const s=t.querySelector(`[data-calendar-day="${l}"]`);if(s){const t=e.popups[l];t&&(t.modifier&&t.modifier.split(" ").forEach((e=>{s.classList.add(e)})),s.parentNode.innerHTML+=`<div class="${e.styleClass.dayPopup}">${t.html}</div>`)}}},n=(e,t)=>{if(!e)return null;const l=new Date(e).getUTCDate(),s=new Date(e).getUTCMonth(),n=new Date(e).getUTCFullYear(),a=new Date(n,s,l),i=new Date(Date.UTC(a.getUTCFullYear(),0,t?1:0)),d=Math.ceil(((+a-+i)/864e5-1)/7);return{year:a.getUTCFullYear(),week:d}},a=(e,t,l)=>{if(!e.settings.visibility.weekNumbers)return;const s=e.HTMLElement.querySelector(`.${e.styleClass.weekNumbers}`),a=e.HTMLElement.querySelectorAll(`.${e.styleClass.dayBtn}`);if(s instanceof HTMLElement){const i=Math.ceil((t+l)/7),d=document.createElement("span");d.className=e.styleClass.weekNumber,s.innerHTML="";for(let t=0;t<i;t++){const l=n(a[7*t].dataset.calendarDay,e.settings.iso8601);if(!l)return;const i=d.cloneNode(!0);i instanceof HTMLElement&&(i.innerText=`${l.week}`,i.dataset.calendarYearWeek=`${l.year}`,s.append(i))}}},i=e=>{const t=e.getUTCFullYear();let l=e.getUTCMonth()+1,s=e.getUTCDate();return l=l<10?`0${l}`:l,s=s<10?`0${s}`:s,`${t}-${l}-${s}`},d=e=>{if(void 0===e.selectedMonth||void 0===e.selectedYear)return;const t=new Date(Date.UTC(e.selectedYear,e.selectedMonth,1)),l=new Date(Date.UTC(e.selectedYear,e.selectedMonth+1,0)).getUTCDate();let d=Number(t.getUTCDay());e.settings.iso8601&&(d=Number((0!==t.getUTCDay()?t.getUTCDay():7)-1));const o=e.HTMLElement.querySelector(`.${e.styleClass.days}`);if(!o)return;const r=document.createElement("div"),c=document.createElement("button");r.className=e.styleClass.day,c.className=e.styleClass.dayBtn,c.type="button",e.settings.selection.day&&["single","multiple","multiple-ranged"].includes(e.settings.selection.day)&&o.classList.add(e.styleClass.daysSelecting),o.innerHTML="";const u=(t,l,s,a,i)=>{const d=r.cloneNode(!0),u=c.cloneNode(!0);if(d instanceof HTMLElement&&u instanceof HTMLElement){if(i&&u.classList.add(i),u.innerText=t,u.dataset.calendarDay=s,e.settings.visibility.weekNumbers){const t=n(s,e.settings.iso8601);if(!t)return;u.dataset.calendarWeekNumber=`${t.week}`}((t,l,s,n)=>{!e.settings.visibility.weekend||0!==l&&6!==l||t.classList.add(e.styleClass.dayBtnWeekend),Array.isArray(e.settings.selected.holidays)&&e.settings.selected.holidays.forEach((l=>{l===s&&t.classList.add(e.styleClass.dayBtnHoliday)}));let a=e.date.today.getDate(),i=e.date.today.getMonth()+1;a=a<10?`0${a}`:a,i=i<10?`0${i}`:i;const d=`${e.date.today.getFullYear()}-${i}-${a}`;e.settings.visibility.today&&t.dataset.calendarDay===d&&t.classList.add(e.styleClass.dayBtnToday),e.selectedDates&&0===e.selectedDates.indexOf(s)||e.selectedDates&&e.selectedDates[0]&&e.selectedDates.indexOf(s)===e.selectedDates.length-1?t.classList.add(e.styleClass.dayBtnSelected):e.selectedDates&&e.selectedDates.indexOf(s)>0&&"multiple-ranged"===e.settings.selection.day?(t.classList.add(e.styleClass.dayBtnSelected),t.classList.add(e.styleClass.dayBtnIntermediate)):e.selectedDates&&e.selectedDates.indexOf(s)>0&&t.classList.add(e.styleClass.dayBtnSelected),(e.settings.range.min>s||e.settings.range.max<s)&&(t.classList.add(e.styleClass.dayBtnDisabled),t.tabIndex=-1),e.settings.selection.month||n||(t.classList.add(e.styleClass.dayBtnDisabled),t.tabIndex=-1),e.settings.selection.year||new Date(s).getFullYear()===e.selectedYear||(t.classList.add(e.styleClass.dayBtnDisabled),t.tabIndex=-1),Array.isArray(e.settings.range.disabled)?e.settings.range.disabled.forEach((l=>{l===s&&(t.classList.add(e.styleClass.dayBtnDisabled),t.tabIndex=-1)})):Array.isArray(e.settings.range.enabled)&&(t.classList.add(e.styleClass.dayBtnDisabled),t.tabIndex=-1,e.settings.range.enabled.forEach((l=>{l===s&&(t.classList.remove(e.styleClass.dayBtnDisabled),t.tabIndex=0)})))})(u,l,s,a),d.append(u),o.append(d)}};(()=>{if(void 0===e.selectedMonth||void 0===e.selectedYear)return;let t=new Date(Date.UTC(e.selectedYear,e.selectedMonth,0)).getUTCDate()-d,l=e.selectedYear,s=e.selectedMonth;0===e.selectedMonth?(s=e.locale.months.length,l=e.selectedYear-1):e.selectedMonth<10&&(s=`0${e.selectedMonth}`);for(let n=0;n<d;n++){t+=1;const n=`${l}-${s}-${t}`,a=new Date(Date.UTC(e.selectedYear,e.selectedMonth,t-1)).getUTCMonth()-1,i=new Date(Date.UTC(e.selectedYear,a,t)).getUTCDay();u(String(t),i,n,!1,e.styleClass.dayBtnPrev)}})(),(()=>{if(void 0!==e.selectedMonth&&void 0!==e.selectedYear)for(let t=1;t<=l;t++){const l=new Date(Date.UTC(e.selectedYear,e.selectedMonth,t)),s=i(l),n=l.getUTCDay();u(String(t),n,s,!0,null)}})(),(()=>{if(void 0===e.selectedMonth||void 0===e.selectedYear)return;const t=d+l,s=Math.ceil(t/e.locale.weekday.length),n=e.locale.weekday.length*s-t;let a=e.selectedYear,i=String(e.selectedMonth+2);e.selectedMonth+1===e.locale.months.length?(i="01",a=e.selectedYear+1):e.selectedMonth+2<10&&(i=`0${e.selectedMonth+2}`);for(let t=1;t<=n;t++){const l=`${a}-${i}-${t<10?`0${t}`:String(t)}`,s=new Date(Date.UTC(e.selectedYear,e.selectedMonth,t)).getUTCMonth()+1,n=new Date(Date.UTC(e.selectedYear,s,t)).getUTCDay();u(String(t),n,l,!1,e.styleClass.dayBtnNext)}})(),s(e,o),a(e,d,l)},o=e=>{const t=e.HTMLElement;switch(e.currentType){case"month":((e,t)=>{t.classList.add(e.styleClass.calendar),t.classList.remove(e.styleClass.calendarDefault),t.classList.add(e.styleClass.calendarMonth),t.classList.remove(e.styleClass.calendarYear),t.innerHTML=`\n\t<div class="${e.styleClass.header}">\n\t\t<div class="${e.styleClass.headerContent}"></div>\n\t</div>\n\t<div class="${e.styleClass.content}">\n\t\t<div class="${e.styleClass.months}"></div>\n\t</div>`})(e,t);break;case"year":((e,t)=>{t.classList.add(e.styleClass.calendar),t.classList.remove(e.styleClass.calendarDefault),t.classList.remove(e.styleClass.calendarMonth),t.classList.add(e.styleClass.calendarYear),t.innerHTML=`\n\t<div class="${e.styleClass.header}">\n\t\t<button type="button"\n\t\t\tclass="${e.styleClass.arrow} ${e.styleClass.arrowPrev}"\n\t\t\ttitle="prev">\n\t\t</button>\n\t\t<div class="${e.styleClass.headerContent}"></div>\n\t\t<button type="button"\n\t\t\tclass="${e.styleClass.arrow} ${e.styleClass.arrowNext}"\n\t\t\ttitle="next">\n\t\t</button>\n\t</div>\n\t<div class="${e.styleClass.content}">\n\t\t<div class="${e.styleClass.years}"></div>\n\t</div>`})(e,t);break;default:((e,t)=>{t.classList.add(e.styleClass.calendar),t.classList.add(e.styleClass.calendarDefault),t.classList.remove(e.styleClass.calendarMonth),t.classList.remove(e.styleClass.calendarYear),t.innerHTML=`\n\t\t<div class="${e.styleClass.header}">\n\t\t\t<button type="button"\n\t\t\t\tclass="${e.styleClass.arrow} ${e.styleClass.arrowPrev}"\n\t\t\t\tdata-calendar-arrow="prev"\n\t\t\t\ttitle="Prev">\n\t\t\t</button>\n\t\t\t<div class="${e.styleClass.headerContent}"></div>\n\t\t\t<button type="button"\n\t\t\t\tclass="${e.styleClass.arrow} ${e.styleClass.arrowNext}"\n\t\t\t\tdata-calendar-arrow="next"\n\t\t\t\ttitle="Next">\n\t\t\t</button>\n\t\t</div>\n\t\t${e.settings.visibility.weekNumbers?`\n\t\t<div class="${e.styleClass.weekNumbers}">\n\t\t\t<b class="${e.styleClass.weekNumbersTitle}">#</b>\n\t\t\t<div class="${e.styleClass.weekNumbersContent}"></div>\n\t\t</div>\n\t\t`:""}\n\t\t<div class="${e.styleClass.content}">\n\t\t\t<div class="${e.styleClass.week}"></div>\n\t\t\t<div class="${e.styleClass.days}"></div>\n\t\t</div>\n\t\t${e.settings.selection.time?`\n\t\t<div class="${e.styleClass.time}"></div>\n\t\t`:""}`})(e,t)}},r=e=>{const t=e.HTMLElement.querySelector(`.${e.styleClass.headerContent}`);if(void 0===e.selectedMonth||void 0===e.selectedYear||!t)return;const l=e.settings.selection.month?"":e.styleClass.monthDisabled,s=e.settings.selection.year?"":e.styleClass.yearDisabled,n=`\n\t<button type="button"\n\t\ttabindex="${e.settings.selection.month?0:-1}"\n\t\tclass="${e.styleClass.month} ${l}"\n\t\tdata-calendar-selected-month="${e.selectedMonth}">\n\t\t${e.locale.months[e.selectedMonth]}\n\t</button>`.replace(/[\n\t]/g,""),a=`\n\t<button type="button"\n\t\ttabindex="${e.settings.selection.year?0:-1}"\n\t\tclass="${e.styleClass.year} ${s}"\n\t\tdata-calendar-selected-year="${e.selectedYear}">\n\t\t${e.selectedYear}\n\t</button>`.replace(/[\n\t]/g,"");let i=e.settings.visibility.templateHeader.replace("%M",n);i=i.replace("%Y",a),t.innerHTML=i},c=e=>{e.currentType="month",o(e),r(e);const t=e.HTMLElement.querySelector(`.${e.styleClass.months}`);if(void 0===e.selectedMonth||void 0===e.selectedYear||!e.dateMin||!e.dateMax||!t)return;e.settings.selection.month&&t.classList.add(e.styleClass.monthsSelecting);const l=document.createElement("button");l.type="button",l.className=e.styleClass.monthsMonth;for(let s=0;s<e.locale.months.length;s++){const n=e.locale.months[s],a=l.cloneNode(!0);a instanceof HTMLElement&&(s===e.selectedMonth&&a.classList.add(e.styleClass.monthsMonthSelected),s<e.dateMin.getUTCMonth()&&e.selectedYear===e.dateMin.getUTCFullYear()&&(a.classList.add(e.styleClass.monthsMonthDisabled),a.tabIndex=-1),s>e.dateMax.getUTCMonth()&&e.selectedYear===e.dateMax.getUTCFullYear()&&(a.classList.add(e.styleClass.monthsMonthDisabled),a.tabIndex=-1),a.dataset.calendarMonth=String(s),a.title=`${n}`,a.innerText=`${e.settings.visibility.monthShort?n.substring(0,3):n}`,t.append(a))}},u=e=>{const t=Number(e);let l=String(t);return 0===t?l="12":13===t?l="01":14===t?l="02":15===t?l="03":16===t?l="04":17===t?l="05":18===t?l="06":19===t?l="07":20===t?l="08":21===t?l="09":22===t?l="10":23===t&&(l="11"),l},y=(e,t)=>{const l=Number(e);let s=String(l);return"AM"===t?12===l&&(s="00"):"PM"===t&&(1===l?s="13":2===l?s="14":3===l?s="15":4===l?s="16":5===l?s="17":6===l?s="18":7===l?s="19":8===l?s="20":9===l?s="21":10===l?s="22":11===l&&(s="23")),s},v=(e,t)=>{const l=e.HTMLElement.querySelector(`.${e.styleClass.timeRange} input[name="hours"]`),s=e.HTMLElement.querySelector(`.${e.styleClass.timeRange} input[name="minutes"]`),n=e.HTMLElement.querySelector(`.${e.styleClass.timeHours} input[name="hours"]`),a=e.HTMLElement.querySelector(`.${e.styleClass.timeMinutes} input[name="minutes"]`),i=e.HTMLElement.querySelector(`.${e.styleClass.timeKeeping}`),d=(t,l)=>{t.addEventListener("mouseover",(()=>l.classList.add(e.styleClass.isFocus)))},o=(t,l)=>{t.addEventListener("mouseout",(()=>l.classList.remove(e.styleClass.isFocus)))},r=(t,l,s)=>{"hours"===s?e.selectedHours=`${l}`:"minutes"===s&&(e.selectedMinutes=`${l}`),e.selectedTime=`${e.selectedHours}:${e.selectedMinutes}${e.selectedKeeping?` ${e.selectedKeeping}`:""}`,e.settings.selected.time=e.selectedTime,e.actions.changeTime&&e.actions.changeTime(t,e.selectedTime,e.selectedHours,e.selectedMinutes,e.selectedKeeping)},c=(t,l,s,n)=>{t.addEventListener("input",(t=>{let a=Number(t.target.value);a=a<10?`0${a}`:`${a}`,"hours"===s&&12===n?Number(t.target.value)<n&&Number(t.target.value)>0?(l.value=a,e.selectedKeeping="AM",i.innerText=e.selectedKeeping,r(t,a,s)):(0===Number(t.target.value)?(e.selectedKeeping="AM",i.innerText="AM"):(e.selectedKeeping="PM",i.innerText="PM"),l.value=u(t.target.value),r(t,u(t.target.value),s)):(l.value=a,r(t,a,s))}))},v=(t,l,s,n)=>{l.addEventListener("change",(l=>{const a=l.target;let d=Number(a.value);d=d<10?`0${d}`:`${d}`,"hours"===s&&12===n?a.value&&Number(a.value)<=n&&Number(a.value)>0?(a.value=d,t.value=y(d,e.selectedKeeping),r(l,d,s)):a.value&&Number(a.value)<24&&(Number(a.value)>n||0===Number(a.value))?(0===Number(a.value)?(e.selectedKeeping="AM",i.innerText="AM"):(e.selectedKeeping="PM",i.innerText="PM"),a.value=u(a.value),t.value=d,r(l,u(a.value),s)):a.value=e.selectedHours:a.value&&Number(a.value)<=n&&Number(a.value)>=0?(a.value=d,t.value=d,r(l,d,s)):"hours"===s?a.value=e.selectedHours:"minutes"===s&&(a.value=e.selectedMinutes)}))};d(l,n),d(s,a),o(l,n),o(s,a),c(l,n,"hours",24===t?23:12),c(s,a,"minutes",0),v(l,n,"hours",24===t?23:12),v(s,a,"minutes",59),i&&i.addEventListener("click",(t=>{i.innerText.includes("AM")?e.selectedKeeping="PM":e.selectedKeeping="AM",l.value=y(e.selectedHours,e.selectedKeeping),r(t,e.selectedHours,"hours"),i.innerText=e.selectedKeeping}))},m=e=>{const t=e.HTMLElement.querySelector(`.${e.styleClass.time}`);if(!t)return;const l=!0===e.settings.selection.time?12:e.settings.selection.time,s="range"===e.settings.selection.controlTime;t.innerHTML=`\n\t<div class="${e.styleClass.timeContent}">\n\t\t<label class="${e.styleClass.timeHours}">\n\t\t\t<input type="text"\n\t\t\t\tname="hours"\n\t\t\t\tmaxlength="2"\n\t\t\t\tvalue="${e.selectedHours}"\n\t\t\t\t${s?"disabled":""}>\n\t\t</label>\n\t\t<label class="${e.styleClass.timeMinutes}">\n\t\t\t<input type="text"\n\t\t\t\tname="minutes"\n\t\t\t\tmaxlength="2"\n\t\t\t\tvalue="${e.selectedMinutes}"\n\t\t\t\t${s?"disabled":""}>\n\t\t</label>\n\t\t${12===l?`\n\t\t<button type="button"\n\t\t\tclass="${e.styleClass.timeKeeping}"\n\t\t\t${s?"disabled":""}>${e.selectedKeeping}</button>\n\t\t`:""}\n\t</div>\n\t<div class="${e.styleClass.timeRanges}">\n\t\t<label class="${e.styleClass.timeRange}">\n\t\t\t<input type="range"\n\t\t\t\tname="hours"\n\t\t\t\tmin="0"\n\t\t\t\tmax="23"\n\t\t\t\tstep="${e.settings.selection.stepHours}"\n\t\t\t\tvalue="${e.selectedKeeping?y(e.selectedHours,e.selectedKeeping):e.selectedHours}">\n\t\t</label>\n\t\t<label class="${e.styleClass.timeRange}">\n\t\t\t<input type="range"\n\t\t\t\tname="minutes"\n\t\t\t\tmin="0"\n\t\t\t\tmax="59"\n\t\t\t\tstep="${e.settings.selection.stepMinutes}"\n\t\t\t\tvalue="${e.selectedMinutes}">\n\t\t</label>\n\t</div>`,v(e,l)},g=e=>{const t=[...e.locale.weekday];if(!t[0])return;const l=e.HTMLElement.querySelector(`.${e.styleClass.week}`),s=document.createElement("b");if(s.className=e.styleClass.weekDay,e.settings.iso8601&&t.push(t.shift()),l instanceof HTMLElement){l.innerHTML="";for(let n=0;n<t.length;n++){const a=t[n],i=s.cloneNode(!0);i instanceof HTMLElement&&(e.settings.visibility.weekend&&e.settings.iso8601?5!==n&&6!==n||i.classList.add(e.styleClass.weekDayWeekend):e.settings.visibility.weekend&&!e.settings.iso8601&&(0!==n&&6!==n||i.classList.add(e.styleClass.weekDayWeekend)),i.innerText=`${a}`,l.append(i))}}},h=e=>{if(void 0===e.viewYear||!e.dateMin||!e.dateMax)return;e.currentType="year",o(e),r(e),l(e);const t=e.HTMLElement.querySelector(`.${e.styleClass.years}`);if(!t)return;e.settings.selection.year&&t.classList.add(e.styleClass.yearsSelecting);const s=document.createElement("button");s.type="button",s.className=e.styleClass.yearsYear;for(let l=e.viewYear-7;l<e.viewYear+8;l++){const n=l,a=s.cloneNode(!0);a instanceof HTMLElement&&(n===e.selectedYear&&a.classList.add(e.styleClass.yearsYearSelected),n<e.dateMin.getUTCFullYear()&&(a.classList.add(e.styleClass.yearsYearDisabled),a.tabIndex=-1),n>e.dateMax.getUTCFullYear()&&(a.classList.add(e.styleClass.yearsYearDisabled),a.tabIndex=-1),a.dataset.calendarYear=String(n),a.innerText=`${n}`,t.append(a))}},C=e=>{if("define"!==e.settings.lang){e.locale.weekday=[];for(let t=0;t<7;t++){let l=new Date(0,0,t).toLocaleString(e.settings.lang,{weekday:"short"});l=`${l.charAt(0).toUpperCase()}${l.substring(1,l.length)}`,l=l.replace(/\./,""),e.locale.weekday.push(l)}e.locale.months=[];for(let t=0;t<12;t++){let l=new Date(0,t).toLocaleString(e.settings.lang,{month:"long"});l=`${l.charAt(0).toUpperCase()}${l.substring(1,l.length)}`,l=l.replace(/\./,""),e.locale.months.push(l)}}},M=e=>{null!==e.settings.selected.dates?e.selectedDates=e.settings.selected.dates:e.selectedDates=[],null!==e.settings.selected.month&&e.settings.selected.month>=0&&e.settings.selected.month<12?e.selectedMonth=e.settings.selected.month:e.selectedMonth=e.date.today.getMonth(),null!==e.settings.selected.year&&e.settings.selected.year>=0&&e.settings.selected.year<=9999?e.selectedYear=e.settings.selected.year:e.selectedYear=e.date.today.getFullYear(),e.viewYear=e.selectedYear,e.dateMin=e.settings.visibility.disabled?new Date(e.date.min):new Date(e.settings.range.min),e.dateMax=e.settings.visibility.disabled?new Date(e.date.max):new Date(e.settings.range.max);const t=!0===e.settings.selection.time||12===e.settings.selection.time;if(t||24===e.settings.selection.time){if("string"==typeof e.settings.selected.time){const l=t?/^([0-9]|0[1-9]|1[0-2]):([0-5][0-9])|(AM|PM)/g:/^([0-1]?[0-9]|2[0-3]):([0-5][0-9])/g;e.settings.selected.time.replace(l,((l,s,n,a)=>(s&&n&&(e.userTime=!0,e.selectedHours=s,e.selectedMinutes=n),a&&t?e.selectedKeeping=a:t&&(e.selectedKeeping="AM"),"")))}!e.userTime&&t?(e.selectedHours=u(String(e.date.today.getHours())),e.selectedMinutes=String(e.date.today.getMinutes()),e.selectedKeeping=Number(e.date.today.getHours())>12?"PM":"AM"):e.userTime||(e.selectedHours=String(e.date.today.getHours()),e.selectedMinutes=String(e.date.today.getMinutes())),e.selectedHours=Number(e.selectedHours)<10?`0${Number(e.selectedHours)}`:`${e.selectedHours}`,e.selectedMinutes=Number(e.selectedMinutes)<10?`0${Number(e.selectedMinutes)}`:`${e.selectedMinutes}`,e.selectedTime=`${e.selectedHours}:${e.selectedMinutes}${e.selectedKeeping?` ${e.selectedKeeping}`:""}`}else e.settings.selection.time&&(e.settings.selection.time=!1,console.error("The value of the time property can be: false, true, 12 or 24."))},b=e=>{M(e),C(e),o(e),r(e),l(e),m(e),"default"===e.currentType?(g(e),d(e)):"month"===e.currentType?c(e):"year"===e.currentType&&h(e)},p=(e,t)=>{if(void 0===e.selectedMonth||void 0===e.selectedYear)return;const s=e.locale.months.length-1;switch(t){case"prev":0!==e.selectedMonth?e.selectedMonth-=1:e.settings.selection.year&&(e.selectedYear-=1,e.selectedMonth=s);break;case"next":e.selectedMonth!==s?e.selectedMonth+=1:e.settings.selection.year&&(e.selectedYear+=1,e.selectedMonth=0)}e.settings.selected.month=e.selectedMonth,e.settings.selected.year=e.selectedYear,r(e),l(e),d(e)},T=e=>{e.HTMLElement.addEventListener("click",(t=>{const l=t.target,s=l.closest(`.${e.styleClass.arrow}`),n=l.closest(`.${e.styleClass.arrowPrev}`),a=l.closest(`.${e.styleClass.arrowNext}`),o=l.closest(`.${e.styleClass.dayBtn}`),r=l.closest(`.${e.styleClass.dayBtnPrev}`),u=l.closest(`.${e.styleClass.dayBtnNext}`),y=l.closest(`.${e.styleClass.year}`),v=l.closest(`.${e.styleClass.yearsYear}`),m=l.closest(`.${e.styleClass.month}`),g=l.closest(`.${e.styleClass.monthsMonth}`);s&&"year"!==e.currentType&&"month"!==e.currentType&&p(e,l.dataset.calendarArrow),(()=>{if(e.settings.selection.day&&["single","multiple","multiple-ranged"].includes(e.settings.selection.day)&&o){switch(e.settings.selection.day){case"single":e.selectedDates&&o&&o.dataset.calendarDay&&(o.classList.contains(e.styleClass.dayBtnSelected)?e.selectedDates.splice(e.selectedDates.indexOf(o.dataset.calendarDay),1):(e.selectedDates=[],e.selectedDates.push(o.dataset.calendarDay)));break;case"multiple":e.selectedDates&&o&&o.dataset.calendarDay&&(o.classList.contains(e.styleClass.dayBtnSelected)?e.selectedDates.splice(e.selectedDates.indexOf(o.dataset.calendarDay),1):e.selectedDates.push(o.dataset.calendarDay));break;case"multiple-ranged":(()=>{if(!e.selectedDates||!o||!o.dataset.calendarDay)return;if(e.selectedDates.length>1&&(e.selectedDates=[]),e.selectedDates.push(o.dataset.calendarDay),!e.selectedDates[1])return;const t=new Date(Date.UTC(new Date(e.selectedDates[0]).getUTCFullYear(),new Date(e.selectedDates[0]).getUTCMonth(),new Date(e.selectedDates[0]).getUTCDate())),l=new Date(Date.UTC(new Date(e.selectedDates[1]).getUTCFullYear(),new Date(e.selectedDates[1]).getUTCMonth(),new Date(e.selectedDates[1]).getUTCDate())),s=t=>{if(!e.selectedDates)return;const l=i(t);e.settings.range.disabled&&e.settings.range.disabled.includes(l)||e.selectedDates.push(l)};if(e.selectedDates=[],l>t)for(let e=t;e<=l;e.setUTCDate(e.getUTCDate()+1))s(e);else for(let e=t;e>=l;e.setUTCDate(e.getUTCDate()-1))s(e)})()}e.actions.clickDay&&e.actions.clickDay(t,e.selectedDates),e.settings.selected.dates=e.selectedDates,r?p(e,"prev"):u?p(e,"next"):d(e)}})(),(()=>{if(e.settings.selection.year)if(s&&"year"===e.currentType){if(void 0===e.viewYear)return;a?e.viewYear+=15:n&&(e.viewYear-=15),h(e)}else if("year"!==e.currentType&&y)h(e);else if("year"===e.currentType&&y)e.currentType=e.type,b(e);else if(v){if(void 0===e.selectedMonth||!e.dateMin||!e.dateMax)return;e.selectedYear=Number(v.dataset.calendarYear),e.currentType=e.type,e.selectedMonth<e.dateMin.getUTCMonth()&&e.selectedYear===e.dateMin.getUTCFullYear()&&(e.settings.selected.month=e.dateMin.getUTCMonth()),e.selectedMonth>e.dateMax.getUTCMonth()&&e.selectedYear===e.dateMax.getUTCFullYear()&&(e.settings.selected.month=e.dateMax.getUTCMonth()),e.actions.clickYear&&e.actions.clickYear(t,e.selectedYear),e.settings.selected.year=e.selectedYear,b(e)}})(),e.settings.selection.month&&("month"!==e.currentType&&m?c(e):"month"===e.currentType&&m?(e.currentType=e.type,b(e)):g&&(e.selectedMonth=Number(g.dataset.calendarMonth),e.currentType=e.type,e.actions.clickMonth&&e.actions.clickMonth(t,e.selectedMonth),e.settings.selected.month=e.selectedMonth,b(e)))}))},D=e=>{e.HTMLElement&&(b(e),T(e))};class ${constructor(e,t){var l,s,n,a,i,d,o,r,c,u,y,v,m,g,h,C,M,p,T,$,w,f,Y,L,k,x,_,H,N,S,U,E,B,K,P,F,A,q,I,O,R,W,j,V,z,G,J,Q,X,Z,ee,te,le,se,ne,ae,ie,de,oe,re,ce,ue,ye,ve,me,ge,he,Ce,Me,be,pe,Te,De,$e,we,fe,Ye,Le,ke,xe,_e,He,Ne,Se,Ue,Ee,Be,Ke,Pe,Fe,Ae,qe,Ie,Oe,Re,We,je,Ve,ze,Ge,Je,Qe,Xe,Ze,et,tt,lt,st,nt,at,it,dt,ot,rt,ct,ut,yt,vt,mt,gt,ht,Ct,Mt,bt,pt,Tt,Dt,$t,wt,ft,Yt,Lt,kt,xt,_t,Ht,Nt,St,Ut,Et,Bt,Kt,Pt,Ft,At,qt,It,Ot,Rt,Wt,jt,Vt,zt,Gt,Jt,Qt,Xt,Zt,el,tl,ll,sl,nl,al,il,dl,ol,rl,cl,ul,yl,vl,ml,gl,hl,Cl,Ml,bl,pl,Tl,Dl,$l,wl,fl,Yl,Ll,kl,xl,_l,Hl,Nl,Sl,Ul,El;this.update=()=>b(this),this.init=()=>D(this),this.HTMLElement="string"==typeof e?document.querySelector(e):e,this.HTMLElement&&(this.type=null!=(l=null==t?void 0:t.type)?l:"default",this.date={min:null!=(n=null==(s=null==t?void 0:t.date)?void 0:s.min)?n:"1970-01-01",max:null!=(i=null==(a=null==t?void 0:t.date)?void 0:a.max)?i:"2470-12-31",today:null!=(o=null==(d=null==t?void 0:t.date)?void 0:d.today)?o:new Date},this.settings={lang:null!=(c=null==(r=null==t?void 0:t.settings)?void 0:r.lang)?c:"en",iso8601:null==(y=null==(u=null==t?void 0:t.settings)?void 0:u.iso8601)||y,range:{min:null!=(g=null==(m=null==(v=null==t?void 0:t.settings)?void 0:v.range)?void 0:m.min)?g:"1970-01-01",max:null!=(M=null==(C=null==(h=null==t?void 0:t.settings)?void 0:h.range)?void 0:C.max)?M:"2470-12-31",disabled:null!=($=null==(T=null==(p=null==t?void 0:t.settings)?void 0:p.range)?void 0:T.disabled)?$:null,enabled:null!=(Y=null==(f=null==(w=null==t?void 0:t.settings)?void 0:w.range)?void 0:f.enabled)?Y:null},selection:{day:null!=(x=null==(k=null==(L=null==t?void 0:t.settings)?void 0:L.selection)?void 0:k.day)?x:"single",month:null==(N=null==(H=null==(_=null==t?void 0:t.settings)?void 0:_.selection)?void 0:H.month)||N,year:null==(E=null==(U=null==(S=null==t?void 0:t.settings)?void 0:S.selection)?void 0:U.year)||E,time:null!=(P=null==(K=null==(B=null==t?void 0:t.settings)?void 0:B.selection)?void 0:K.time)&&P,controlTime:null!=(q=null==(A=null==(F=null==t?void 0:t.settings)?void 0:F.selection)?void 0:A.controlTime)?q:"all",stepHours:null!=(R=null==(O=null==(I=null==t?void 0:t.settings)?void 0:I.selection)?void 0:O.stepHours)?R:1,stepMinutes:null!=(V=null==(j=null==(W=null==t?void 0:t.settings)?void 0:W.selection)?void 0:j.stepMinutes)?V:1},selected:{dates:null!=(J=null==(G=null==(z=null==t?void 0:t.settings)?void 0:z.selected)?void 0:G.dates)?J:null,month:null!=(Z=null==(X=null==(Q=null==t?void 0:t.settings)?void 0:Q.selected)?void 0:X.month)?Z:null,year:null!=(le=null==(te=null==(ee=null==t?void 0:t.settings)?void 0:ee.selected)?void 0:te.year)?le:null,holidays:null!=(ae=null==(ne=null==(se=null==t?void 0:t.settings)?void 0:se.selected)?void 0:ne.holidays)?ae:null,time:null!=(oe=null==(de=null==(ie=null==t?void 0:t.settings)?void 0:ie.selected)?void 0:de.time)?oe:null},visibility:{templateHeader:null!=(ue=null==(ce=null==(re=null==t?void 0:t.settings)?void 0:re.visibility)?void 0:ce.templateHeader)?ue:"%M %Y",monthShort:null==(me=null==(ve=null==(ye=null==t?void 0:t.settings)?void 0:ye.visibility)?void 0:ve.monthShort)||me,weekNumbers:null!=(Ce=null==(he=null==(ge=null==t?void 0:t.settings)?void 0:ge.visibility)?void 0:he.weekNumbers)&&Ce,weekend:null==(pe=null==(be=null==(Me=null==t?void 0:t.settings)?void 0:Me.visibility)?void 0:be.weekend)||pe,today:null==($e=null==(De=null==(Te=null==t?void 0:t.settings)?void 0:Te.visibility)?void 0:De.today)||$e,disabled:null!=(Ye=null==(fe=null==(we=null==t?void 0:t.settings)?void 0:we.visibility)?void 0:fe.disabled)&&Ye}},this.locale={months:null!=(ke=null==(Le=null==t?void 0:t.locale)?void 0:Le.months)?ke:[],weekday:null!=(_e=null==(xe=null==t?void 0:t.locale)?void 0:xe.weekday)?_e:[]},this.actions={clickDay:null!=(Ne=null==(He=null==t?void 0:t.actions)?void 0:He.clickDay)?Ne:null,clickMonth:null!=(Ue=null==(Se=null==t?void 0:t.actions)?void 0:Se.clickMonth)?Ue:null,clickYear:null!=(Be=null==(Ee=null==t?void 0:t.actions)?void 0:Ee.clickYear)?Be:null,changeTime:null!=(Pe=null==(Ke=null==t?void 0:t.actions)?void 0:Ke.changeTime)?Pe:null},this.popups=null!=(Fe=null==t?void 0:t.popups)?Fe:null,this.styleClass={calendar:null!=(qe=null==(Ae=null==t?void 0:t.styleClass)?void 0:Ae.calendar)?qe:"vanilla-calendar",calendarDefault:null!=(Oe=null==(Ie=null==t?void 0:t.styleClass)?void 0:Ie.calendarDefault)?Oe:"vanilla-calendar_default",calendarMonth:null!=(We=null==(Re=null==t?void 0:t.styleClass)?void 0:Re.calendarMonth)?We:"vanilla-calendar_month",calendarYear:null!=(Ve=null==(je=null==t?void 0:t.styleClass)?void 0:je.calendarYear)?Ve:"vanilla-calendar_year",header:null!=(Ge=null==(ze=null==t?void 0:t.styleClass)?void 0:ze.header)?Ge:"vanilla-calendar-header",headerContent:null!=(Qe=null==(Je=null==t?void 0:t.styleClass)?void 0:Je.headerContent)?Qe:"vanilla-calendar-header__content",month:null!=(Ze=null==(Xe=null==t?void 0:t.styleClass)?void 0:Xe.month)?Ze:"vanilla-calendar-month",monthDisabled:null!=(tt=null==(et=null==t?void 0:t.styleClass)?void 0:et.monthDisabled)?tt:"vanilla-calendar-month_disabled",year:null!=(st=null==(lt=null==t?void 0:t.styleClass)?void 0:lt.year)?st:"vanilla-calendar-year",yearDisabled:null!=(at=null==(nt=null==t?void 0:t.styleClass)?void 0:nt.yearDisabled)?at:"vanilla-calendar-year_disabled",arrow:null!=(dt=null==(it=null==t?void 0:t.styleClass)?void 0:it.arrow)?dt:"vanilla-calendar-arrow",arrowPrev:null!=(rt=null==(ot=null==t?void 0:t.styleClass)?void 0:ot.arrowPrev)?rt:"vanilla-calendar-arrow_prev",arrowNext:null!=(ut=null==(ct=null==t?void 0:t.styleClass)?void 0:ct.arrowNext)?ut:"vanilla-calendar-arrow_next",content:null!=(vt=null==(yt=null==t?void 0:t.styleClass)?void 0:yt.content)?vt:"vanilla-calendar-content",week:null!=(gt=null==(mt=null==t?void 0:t.styleClass)?void 0:mt.week)?gt:"vanilla-calendar-week",weekDay:null!=(Ct=null==(ht=null==t?void 0:t.styleClass)?void 0:ht.weekDay)?Ct:"vanilla-calendar-week__day",weekDayWeekend:null!=(bt=null==(Mt=null==t?void 0:t.styleClass)?void 0:Mt.weekDayWeekend)?bt:"vanilla-calendar-week__day_weekend",days:null!=(Tt=null==(pt=null==t?void 0:t.styleClass)?void 0:pt.days)?Tt:"vanilla-calendar-days",daysSelecting:null!=($t=null==(Dt=null==t?void 0:t.styleClass)?void 0:Dt.daysSelecting)?$t:"vanilla-calendar-days_selecting",months:null!=(ft=null==(wt=null==t?void 0:t.styleClass)?void 0:wt.months)?ft:"vanilla-calendar-months",monthsSelecting:null!=(Lt=null==(Yt=null==t?void 0:t.styleClass)?void 0:Yt.monthsSelecting)?Lt:"vanilla-calendar-months_selecting",monthsMonth:null!=(xt=null==(kt=null==t?void 0:t.styleClass)?void 0:kt.monthsMonth)?xt:"vanilla-calendar-months__month",monthsMonthSelected:null!=(Ht=null==(_t=null==t?void 0:t.styleClass)?void 0:_t.monthsMonthSelected)?Ht:"vanilla-calendar-months__month_selected",monthsMonthDisabled:null!=(St=null==(Nt=null==t?void 0:t.styleClass)?void 0:Nt.monthsMonthDisabled)?St:"vanilla-calendar-months__month_disabled",years:null!=(Et=null==(Ut=null==t?void 0:t.styleClass)?void 0:Ut.years)?Et:"vanilla-calendar-years",yearsSelecting:null!=(Kt=null==(Bt=null==t?void 0:t.styleClass)?void 0:Bt.yearsSelecting)?Kt:"vanilla-calendar-years_selecting",yearsYear:null!=(Ft=null==(Pt=null==t?void 0:t.styleClass)?void 0:Pt.yearsYear)?Ft:"vanilla-calendar-years__year",yearsYearSelected:null!=(qt=null==(At=null==t?void 0:t.styleClass)?void 0:At.yearsYearSelected)?qt:"vanilla-calendar-years__year_selected",yearsYearDisabled:null!=(Ot=null==(It=null==t?void 0:t.styleClass)?void 0:It.yearsYearDisabled)?Ot:"vanilla-calendar-years__year_disabled",time:null!=(Wt=null==(Rt=null==t?void 0:t.styleClass)?void 0:Rt.time)?Wt:"vanilla-calendar-time",timeContent:null!=(Vt=null==(jt=null==t?void 0:t.styleClass)?void 0:jt.timeContent)?Vt:"vanilla-calendar-time__content",timeHours:null!=(Gt=null==(zt=null==t?void 0:t.styleClass)?void 0:zt.timeHours)?Gt:"vanilla-calendar-time__hours",timeMinutes:null!=(Qt=null==(Jt=null==t?void 0:t.styleClass)?void 0:Jt.timeMinutes)?Qt:"vanilla-calendar-time__minutes",timeKeeping:null!=(Zt=null==(Xt=null==t?void 0:t.styleClass)?void 0:Xt.timeKeeping)?Zt:"vanilla-calendar-time__keeping",timeRanges:null!=(tl=null==(el=null==t?void 0:t.styleClass)?void 0:el.timeRanges)?tl:"vanilla-calendar-time__ranges",timeRange:null!=(sl=null==(ll=null==t?void 0:t.styleClass)?void 0:ll.timeRange)?sl:"vanilla-calendar-time__range",day:null!=(al=null==(nl=null==t?void 0:t.styleClass)?void 0:nl.day)?al:"vanilla-calendar-day",dayPopup:null!=(dl=null==(il=null==t?void 0:t.styleClass)?void 0:il.dayPopup)?dl:"vanilla-calendar-day__popup",dayBtn:null!=(rl=null==(ol=null==t?void 0:t.styleClass)?void 0:ol.dayBtn)?rl:"vanilla-calendar-day__btn",dayBtnPrev:null!=(ul=null==(cl=null==t?void 0:t.styleClass)?void 0:cl.dayBtnPrev)?ul:"vanilla-calendar-day__btn_prev",dayBtnNext:null!=(vl=null==(yl=null==t?void 0:t.styleClass)?void 0:yl.dayBtnNext)?vl:"vanilla-calendar-day__btn_next",dayBtnToday:null!=(gl=null==(ml=null==t?void 0:t.styleClass)?void 0:ml.dayBtnToday)?gl:"vanilla-calendar-day__btn_today",dayBtnSelected:null!=(Cl=null==(hl=null==t?void 0:t.styleClass)?void 0:hl.dayBtnSelected)?Cl:"vanilla-calendar-day__btn_selected",dayBtnDisabled:null!=(bl=null==(Ml=null==t?void 0:t.styleClass)?void 0:Ml.dayBtnDisabled)?bl:"vanilla-calendar-day__btn_disabled",dayBtnIntermediate:null!=(Tl=null==(pl=null==t?void 0:t.styleClass)?void 0:pl.dayBtnIntermediate)?Tl:"vanilla-calendar-day__btn_intermediate",dayBtnWeekend:null!=($l=null==(Dl=null==t?void 0:t.styleClass)?void 0:Dl.dayBtnWeekend)?$l:"vanilla-calendar-day__btn_weekend",dayBtnHoliday:null!=(fl=null==(wl=null==t?void 0:t.styleClass)?void 0:wl.dayBtnHoliday)?fl:"vanilla-calendar-day__btn_holiday",weekNumbers:null!=(Ll=null==(Yl=null==t?void 0:t.styleClass)?void 0:Yl.weekNumbers)?Ll:"vanilla-calendar-week-numbers",weekNumbersTitle:null!=(xl=null==(kl=null==t?void 0:t.styleClass)?void 0:kl.weekNumbersTitle)?xl:"vanilla-calendar-week-numbers__title",weekNumbersContent:null!=(Hl=null==(_l=null==t?void 0:t.styleClass)?void 0:_l.weekNumbersContent)?Hl:"vanilla-calendar-week-numbers__content",weekNumber:null!=(Sl=null==(Nl=null==t?void 0:t.styleClass)?void 0:Nl.weekNumber)?Sl:"vanilla-calendar-week-number",isFocus:null!=(El=null==(Ul=null==t?void 0:t.styleClass)?void 0:Ul.isFocus)?El:"vanilla-calendar-is-focus"},this.currentType=this.type,this.selectedKeeping=null,this.userTime=!1)}}window.VanillaCalendar=$;const w=$;return t})()));}